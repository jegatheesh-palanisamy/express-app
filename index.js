const express = require('express');
const cors = require('cors')

const app = express();

app.use(cors());

const dataSets = [
  [ 56, 26, 261, 197, 969, 750, 839, 634, 185, 237, 16, 170, 417, 669, 665, 248, 10, 49, 546, 218, 1, 249, 797, 409, 913, 50, 468, 638, 269, 154, 964, 898, 43, 289, 236, 944, 980, 394, 928, 643, 211, 554, 353, 443, 255, 253, 348, 484, 851, 416 ],
  [ 796, 212, 284, 587, 825, 449, 256, 29, 1000, 686, 931, 422, 307, 637, 946, 968, 969, 287, 783, 178, 833, 141, 493, 884, 28, 974, 392, 327, 291, 380, 367, 498, 136, 736, 362, 226, 597, 737, 114, 967, 198, 623, 187, 800, 321, 203, 751, 721, 36, 758 ],
  [ 959, 225, 867, 906, 646, 144, 852, 731, 1, 464, 612, 634, 153, 568, 782, 221, 850, 720, 119, 548, 308, 883, 68, 767, 142, 795, 546, 292, 928, 81, 9, 756, 198, 708, 44, 441, 306, 109, 584, 598, 255, 249, 988, 320, 53, 196, 686, 335, 194, 474 ]
]

app.get('/dataset', (req, res) => {
  const dataSetIndex =  (Number(req.query.set_index) || 0) % dataSets.length;
  res.send(dataSets[dataSetIndex]);
});

app.listen(3030, () => {
  console.log(
    `Listening on: http://localhost:3030`
  );
});
